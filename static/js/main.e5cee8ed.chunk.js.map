{"version":3,"sources":["api/fetchCurrencyAPI.js","components/Header.js","components/ExchangeMain.js","components/Footer.js","App.js","index.js"],"names":["fetchCurrencyAPI","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","_yield$axios$get","data","wrap","_context","prev","next","axios","get","sent","abrupt","stop","apply","this","arguments","Header","react_default","createElement","HeaderWrapper","styled","div","_templateObject","taggedTemplateLiteral","ExchangeMain","currency","_useState","useState","_useState2","slicedToArray","fromCurrency","setFromCurrency","_useState3","_useState4","toCurrency","setToCurrency","_useState5","_useState6","fromIndex","setFromIndex","_useState7","_useState8","toIndex","setToIndex","_useState9","_useState10","fromAmount","setFromAmount","_useState11","_useState12","toAmount","setToAmount","_useState13","_useState14","exchangeDirection","setExchangeDirection","useEffect","rates","values","conversion_rates","result","toFixed","showList","direction","list","document","getElementById","style","display","ExchangeWrapper","CurrencyListContent","id","currencyKeys","keys","CurrencyList","length","map","curr","index","ListItem","key","onClick","selectedCurrency","listCurrencies","ExchangeSection","ExchangeContainer","Amount","ExchangeInput","placeholder","onChange","e","preventDefault","target","value","inputAmount","type","ExchangeButton","ExBtnContent","ExchangeOutput","ButtonContainer","ResetButton","ExchangeMain_templateObject","_templateObject2","_templateObject3","input","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","Footer","lastUpdate","resetCurrencies","FooterWrapper","Date","time_last_update_utc","toLocaleString","RefreshButton","Refresh_default","Footer_templateObject","Footer_templateObject2","App","setCurrency","then","res","fetchData","console","log","AppWrapper","components_Header","components_ExchangeMain","components_Footer","App_templateObject","ReactDOM","render","StrictMode","src_App"],"mappings":"6RAIaA,EAAgB,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACLC,IAAMC,IAHrB,0EAEoB,cAAAP,EAAAG,EAAAK,KACpBP,EADoBD,EACpBC,KADoBE,EAAAM,OAAA,SAGrBR,GAHqB,wBAAAE,EAAAO,SAAAX,MAAH,yBAAAN,EAAAkB,MAAAC,KAAAC,YAAA,UCOdC,EARA,WACb,OACEC,EAAAlB,EAAAmB,cAACC,EAAD,KACEF,EAAAlB,EAAAmB,cAAA,qGAOAC,EAAgBC,IAAOC,IAAVC,MAAA1B,OAAA2B,EAAA,EAAA3B,CAAA,qNC+GJ4B,EAxHM,SAAA7B,GAAkB,IAAf8B,EAAe9B,EAAf8B,SAAeC,EAEGC,mBAAS,gBAFZC,EAAAhC,OAAAiC,EAAA,EAAAjC,CAAA8B,EAAA,GAE9BI,EAF8BF,EAAA,GAEhBG,EAFgBH,EAAA,GAAAI,EAGAL,mBAAS,UAHTM,EAAArC,OAAAiC,EAAA,EAAAjC,CAAAoC,EAAA,GAG9BE,EAH8BD,EAAA,GAGlBE,EAHkBF,EAAA,GAAAG,EAIHT,mBAAS,GAJNU,EAAAzC,OAAAiC,EAAA,EAAAjC,CAAAwC,EAAA,GAI9BE,EAJ8BD,EAAA,GAInBE,EAJmBF,EAAA,GAAAG,EAKPb,mBAAS,GALFc,EAAA7C,OAAAiC,EAAA,EAAAjC,CAAA4C,EAAA,GAK9BE,EAL8BD,EAAA,GAKrBE,EALqBF,EAAA,GAAAG,EAMDjB,mBAAS,GANRkB,EAAAjD,OAAAiC,EAAA,EAAAjC,CAAAgD,EAAA,GAM9BE,EAN8BD,EAAA,GAMlBE,EANkBF,EAAA,GAAAG,EAOLrB,mBAAS,GAPJsB,EAAArD,OAAAiC,EAAA,EAAAjC,CAAAoD,EAAA,GAO9BE,EAP8BD,EAAA,GAOpBE,EAPoBF,EAAA,GAAAG,EAQazB,mBAAS,IARtB0B,EAAAzD,OAAAiC,EAAA,EAAAjC,CAAAwD,EAAA,GAQ9BE,EAR8BD,EAAA,GAQXE,EARWF,EAAA,GAUrCG,oBAAU,WACR,GAAG/B,EAAU,CACX,IAAMgC,EAAQ7D,OAAO8D,OAAOjC,EAASkC,kBAAoB,IAErDC,EAASd,EAAaW,EAAMf,GAAWe,EAAMnB,GACnDa,EAAYS,EAAOC,QAAQ,MAE1B,CAACf,EAAYrB,EAAUiB,EAASJ,IAEnC,IAgCMwB,EAAW,SAACC,GAEhB,IAAMC,EAAOC,SAASC,eAAe,gBAEZ,KAAtBZ,IACDU,EAAKG,MAAMC,QAAU,QAGvBb,EAAqBQ,GAEE,SAAvBC,EAAKG,MAAMC,QACPJ,EAAKG,MAAMC,QAAU,QACrBJ,EAAKG,MAAMC,QAAU,QAkB3B,OACEnD,EAAAlB,EAAAmB,cAACmD,EAAD,KAEEpD,EAAAlB,EAAAmB,cAACoD,EAAD,CAAqBC,GAAG,gBACpB9C,GAnDe,WAErB,IAAM+C,EAAe5E,OAAO6E,KAAKhD,EAASkC,kBAAoB,IAE9D,OACE1C,EAAAlB,EAAAmB,cAACwD,EAAD,KACIF,EAAaG,OAAS,GACtBH,EAAaI,IAAI,SAACC,EAAMC,GAAP,OACjB7D,EAAAlB,EAAAmB,cAAC6D,EAAD,CAAUC,IAAMF,EAAQG,QAAU,kBAvBjB,SAACJ,EAAMC,GAEL,SAAtBxB,GACDf,EAAauC,GACb/C,EAAgB8C,IACc,OAAtBvB,GACRX,EAAWmC,GACX3C,EAAc0C,IAEdf,IAGFA,IAW8CoB,CAAiBL,EAAMC,KAA/D,IAA2ED,EAA3E,OAEwB,IAAxBL,EAAaG,QACb1D,EAAAlB,EAAAmB,cAAC6D,EAAD,CAAUE,QAAUnB,GAApB,oTAyCAqB,IAIJlE,EAAAlB,EAAAmB,cAACkE,EAAD,KACEnE,EAAAlB,EAAAmB,cAACmE,EAAD,KACEpE,EAAAlB,EAAAmB,cAACoE,EAAD,KAEErE,EAAAlB,EAAAmB,cAACqE,EAAD,CAAehB,GAAG,WAAWiB,YAAY,OAAOC,SAAW,SAAAC,GAAC,OA5BlD,SAACA,GACnBA,EAAEC,iBACF5C,EAAc2C,EAAEE,OAAOC,OA0BiDC,CAAYJ,IAAKK,KAAK,YAExF9E,EAAAlB,EAAAmB,cAAC8E,EAAD,CAAgBf,QAAU,kBAAMnB,EAAS,UACvC7C,EAAAlB,EAAAmB,cAAC+E,EAAD,KAAgBnE,KAIpBb,EAAAlB,EAAAmB,cAACmE,EAAD,KACEpE,EAAAlB,EAAAmB,cAACoE,EAAD,KAEErE,EAAAlB,EAAAmB,cAACgF,EAAD,KAAkBhD,IAEpBjC,EAAAlB,EAAAmB,cAAC8E,EAAD,CAAgBf,QAAU,kBAAMnB,EAAS,QACvC7C,EAAAlB,EAAAmB,cAAC+E,EAAD,KAAgB/D,MAKtBjB,EAAAlB,EAAAmB,cAACiF,EAAD,KACElF,EAAAlB,EAAAmB,cAACkF,EAAD,CAAanB,QA1CC,WAClBlC,EAAc,GACdI,EAAY,GACZR,EAAW,GACXJ,EAAa,GACbR,EAAgB,gBAChBI,EAAc,UACd8B,SAASC,eAAe,YAAY2B,MAAQ,KAmCxC,qCASFxB,EAAkBjD,IAAOC,IAAVgF,MAAAzG,OAAA2B,EAAA,EAAA3B,CAAA,yHAQfwF,EAAkBhE,IAAOC,IAAViF,MAAA1G,OAAA2B,EAAA,EAAA3B,CAAA,8GAOfyF,EAAoBjE,IAAOC,IAAVkF,MAAA3G,OAAA2B,EAAA,EAAA3B,CAAA,yKASjB2F,EAAgBnE,IAAOoF,MAAVC,MAAA7G,OAAA2B,EAAA,EAAA3B,CAAA,+LAWbsG,EAAiB9E,IAAOC,IAAVqF,MAAA9G,OAAA2B,EAAA,EAAA3B,CAAA,kEAMd0F,EAASlE,IAAOC,IAAVsF,MAAA/G,OAAA2B,EAAA,EAAA3B,CAAA,2JAYNoG,EAAiB5E,IAAOC,IAAVuF,MAAAhH,OAAA2B,EAAA,EAAA3B,CAAA,4KAWdqG,EAAe7E,IAAOC,IAAVwF,MAAAjH,OAAA2B,EAAA,EAAA3B,CAAA,2BAIZuG,EAAkB/E,IAAOC,IAAVyF,MAAAlH,OAAA2B,EAAA,EAAA3B,CAAA,kFAMfwG,EAAchF,IAAOC,IAAV0F,MAAAnH,OAAA2B,EAAA,EAAA3B,CAAA,+QAkBX8E,EAAetD,IAAOC,IAAV2F,MAAApH,OAAA2B,EAAA,EAAA3B,CAAA,kFAMZ0E,EAAsBlD,IAAOC,IAAV4F,MAAArH,OAAA2B,EAAA,EAAA3B,CAAA,yUAmBnBmF,EAAW3D,IAAOC,IAAV6F,MAAAtH,OAAA2B,EAAA,EAAA3B,CAAA,2GC5NCuH,EAnBA,SAAAxH,GAAqC,IAAlCyH,EAAkCzH,EAAlCyH,WAAYC,EAAsB1H,EAAtB0H,gBAO5B,OACEpG,EAAAlB,EAAAmB,cAACoG,EAAD,KACMF,GACAnG,EAAAlB,EAAAmB,cAAA,gKAPO,IAAIqG,KAAKH,EAAWI,sBACrBC,kBAQRxG,EAAAlB,EAAAmB,cAACwG,EAAD,CAAezC,QAAUoC,GACvBpG,EAAAlB,EAAAmB,cAACyG,EAAA5H,EAAD,SAQJuH,EAAgBlG,IAAOC,IAAVuG,MAAAhI,OAAA2B,EAAA,EAAA3B,CAAA,kIASb8H,EAAgBtG,IAAOC,IAAVwG,MAAAjI,OAAA2B,EAAA,EAAA3B,CAAA,2ICQJkI,GAlCH,WAAM,IAAApG,EAEgBC,mBAAS,MAFzBC,EAAAhC,OAAAiC,EAAA,EAAAjC,CAAA8B,EAAA,GAETD,EAFSG,EAAA,GAECmG,EAFDnG,EAAA,GAIhB4B,oBAAU,WACR,GAAgB,OAAb/B,EACD,KACiB,eAAA9B,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,IAAA,OAAAH,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACVb,IACHsI,KAAK,SAAAC,GACJF,EAAYE,KAHA,wBAAA5H,EAAAO,SAAAX,MAAH,yBAAAN,EAAAkB,MAAAC,KAAAC,YAAA,EAMfmH,GACA,MAAOxC,GAEP,YADAyC,QAAQC,IAAI,UAAW1C,KAI1B,CAACjE,IAMJ,OACER,EAAAlB,EAAAmB,cAACmH,GAAD,KACEpH,EAAAlB,EAAAmB,cAACoH,EAAD,MACArH,EAAAlB,EAAAmB,cAACqH,EAAD,CAAc9G,SAAUA,IACxBR,EAAAlB,EAAAmB,cAACsH,EAAD,CAAQpB,WAAY3F,EAAU4F,gBARV,WACtBU,EAAY,WAcVM,GAAajH,IAAOC,IAAVoH,MAAA7I,OAAA2B,EAAA,EAAA3B,CAAA,yOCvChB8I,IAASC,OACP1H,EAAAlB,EAAAmB,cAACD,EAAAlB,EAAM6I,WAAP,KACE3H,EAAAlB,EAAAmB,cAAC2H,GAAD,OAEF5E,SAASC,eAAe","file":"static/js/main.e5cee8ed.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst URL = 'https://v6.exchangerate-api.com/v6/128066843728e01e510e3096/latest/SEK'\n\nexport const fetchCurrencyAPI = async () => {\n    const { data } = await axios.get(URL)\n\n    return data\n}","import React from 'react'\nimport styled from 'styled-components'\n\nconst Header = () => {\n  return (\n    <HeaderWrapper>\n      <h2>Конвертер валют</h2>\n    </HeaderWrapper>\n   )\n}\n\nexport default Header\n\nconst HeaderWrapper = styled.div`\n  height: 45px;\n  position: absolute;\n  background-color: transparent;\n  text-align: center;\n  width: 100vw;\n  top: 0;\n  padding: 10px;\n  h2 {\n    color: #63d4b2;\n    font-weight: normal;\n  }\n`","import React from 'react'\nimport styled from 'styled-components'\nimport { useState, useEffect } from 'react'\n\nconst ExchangeMain = ( {currency} ) => {\n\n  const [fromCurrency, setFromCurrency] = useState('ИЗ')\n  const [toCurrency, setToCurrency] =  useState('В')\n  const [fromIndex, setFromIndex] = useState(0)\n  const [toIndex, setToIndex] = useState(0)\n  const [fromAmount, setFromAmount] = useState(0.00)\n  const [toAmount, setToAmount] = useState(0.00)\n  const [exchangeDirection, setExchangeDirection] = useState('')\n\n  useEffect(() => {\n    if(currency) {\n      const rates = Object.values(currency.conversion_rates || [])\n\n    const result = fromAmount * rates[toIndex] / rates[fromIndex]\n    setToAmount(result.toFixed(2))\n    }\n  }, [fromAmount, currency, toIndex, fromIndex])\n\n  const selectedCurrency = (curr, index) => {\n\n    if(exchangeDirection === 'from') {\n      setFromIndex(index)\n      setFromCurrency(curr)\n    } else if(exchangeDirection === 'to') {\n      setToIndex(index)\n      setToCurrency(curr)\n    } else {\n      showList()\n    }\n\n    showList()\n  }\n\n  const listCurrencies = () => {\n\n    const currencyKeys = Object.keys(currency.conversion_rates || [])\n\n    return (\n      <CurrencyList>\n        { currencyKeys.length > 0 &&\n          currencyKeys.map((curr, index) =>\n          <ListItem key={ index } onClick={ () => selectedCurrency(curr, index) }> { curr } </ListItem>\n        ) }\n        { currencyKeys.length === 0 &&\n          <ListItem onClick={ showList }>Курсы валют на данный момент недоступны. Попробуйте позже.</ListItem>\n        }\n      </CurrencyList>\n    )\n  }\n\n  const showList = (direction) => {\n\n    const list = document.getElementById(\"currencyList\")\n\n    if(exchangeDirection === '') {\n      list.style.display = \"none\"\n    }\n\n    setExchangeDirection(direction)\n\n    list.style.display === \"none\"\n      ? list.style.display = \"block\"\n      : list.style.display = \"none\"\n  }\n\n  const inputAmount = (e) => {\n    e.preventDefault()\n    setFromAmount(e.target.value)\n  }\n\n  const resetStates = () => {\n    setFromAmount(0)\n    setToAmount(0)\n    setToIndex(0)\n    setFromIndex(0)\n    setFromCurrency('ИЗ')\n    setToCurrency('В')\n    document.getElementById('amountIn').value = ''\n  }\n\n  return (\n    <ExchangeWrapper>\n\n      <CurrencyListContent id=\"currencyList\">\n        { currency &&\n          listCurrencies()\n        }\n      </CurrencyListContent>\n\n      <ExchangeSection>\n        <ExchangeContainer>\n          <Amount>\n\n            <ExchangeInput id=\"amountIn\" placeholder=\"0.00\" onChange={ e => inputAmount(e) } type=\"number\" />\n          </Amount>\n          <ExchangeButton onClick={ () => showList('from') }>\n            <ExBtnContent>{ fromCurrency }</ExBtnContent>\n          </ExchangeButton>\n        </ExchangeContainer>\n\n        <ExchangeContainer>\n          <Amount>\n\n            <ExchangeOutput>{ toAmount }</ExchangeOutput>\n          </Amount>\n          <ExchangeButton onClick={ () => showList('to') }>\n            <ExBtnContent>{ toCurrency }</ExBtnContent>\n          </ExchangeButton>\n        </ExchangeContainer>\n      </ExchangeSection>\n\n      <ButtonContainer>\n        <ResetButton onClick={ resetStates }>Сброс</ResetButton>\n      </ButtonContainer>\n\n    </ExchangeWrapper>\n   )\n}\n\nexport default ExchangeMain\n\nconst ExchangeWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: auto;\n  max-width: 960px;\n  justify-content: center;\n`\n\nconst ExchangeSection = styled.div`\n  display: flex;\n  box-sizing: border-box;\n  flex-direction: column;\n  justify-content: center;\n`\n\nconst ExchangeContainer = styled.div`\n  display: flex;\n  background-color: #63d4b2;\n  margin-bottom: 5px;\n  width: 100%;\n  border-radius: 5px;\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n`\n\nconst ExchangeInput = styled.input`\n  margin: 5px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  width: 90%;\n  text-align: center;\n  font-size: 16px;\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n`\n\nconst ExchangeOutput = styled.div`\n  margin: 5px;\n  border: none;\n  text-align: center;\n`\n\nconst Amount = styled.div`\n  width: 150px;\n  height: 80px;\n  padding: 16px;\n  font-size: 16px;\n  border: none;\n  p {\n    color: white;\n    text-align: center;\n  }\n`\n\nconst ExchangeButton = styled.div`\n  display: flex;\n  width: 150px;\n  height: 80px;\n  justify-content: center;\n  place-items: center;\n  border-radius: 5px;\n  padding: 16px;\n  border: none;\n`\n\nconst ExBtnContent = styled.div`\n  color: white;\n`\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  align-content: center;\n  justify-content: center;\n`\n\nconst ResetButton = styled.div`\n  color: white;\n  max-width: 20vw;\n  text-align: center;\n  padding: 16px;\n  margin: auto;\n  font-size: 16px;\n  border: none;\n  border-radius: 5px;\n  padding: 5px;\n  :hover {\n    cursor: pointer;\n  }\n  :active {\n    background-color: #83d8c3;\n  }\n`\n\nconst CurrencyList = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n`\n\nconst CurrencyListContent = styled.div`\n  position: absolute;\n  display: none;\n  height: 60vh;\n  width: 90vw;\n  top: 15vw;\n  right: 5vw;\n  overflow: scroll;\n  background-color: #f9f9f9;\n  color: black;\n  padding: 12px 16px;\n  border-radius: 5px;\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n  z-index: 1;\n  :hover {\n    display: block;\n  }\n`\n\nconst ListItem = styled.div`\n  margin: 5px;\n  width: 20%;\n  :hover {\n    background-color: #f1f1f1;\n  }\n`","import React from 'react'\nimport styled from 'styled-components'\nimport RefreshIcon from '@material-ui/icons/Refresh'\n\nconst Footer = ({ lastUpdate, resetCurrencies }) => {\n\n  const formatDate = () => {\n    const date = new Date(lastUpdate.time_last_update_utc)\n    return date.toLocaleString()\n  }\n\n  return (\n    <FooterWrapper>\n        { lastUpdate &&\n          <p>Последнее обновление курса: { formatDate() }</p>\n        }\n        <RefreshButton onClick={ resetCurrencies }>\n          <RefreshIcon />\n        </RefreshButton>\n    </FooterWrapper>\n  )\n}\n\nexport default Footer\n\nconst FooterWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  place-items: center;\n  font-size: 10px;\n  bottom: 0;\n  padding: 10px\n`\n\nconst RefreshButton = styled.div`\n  margin: 5px;\n  border-radius: 90px;\n  :hover {\n    cursor: pointer;\n  }\n  :active {\n    background-color: #83d8c3;\n  }\n`","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport { fetchCurrencyAPI } from './api/fetchCurrencyAPI'\nimport Header from \"./components/Header\"\nimport ExchangeMain from \"./components/ExchangeMain\"\nimport Footer from './components/Footer'\nimport styled from 'styled-components'\n\nconst App = () => {\n\n  const [currency, setCurrency] = useState(null)\n\n  useEffect(() => {\n    if(currency === null) {\n      try{\n        const fetchData = async() => {\n          await fetchCurrencyAPI()\n            .then(res => {\n              setCurrency(res)\n            })\n        }\n        fetchData()\n      } catch (e) {\n        console.log('Error: ', e)\n        return\n      }\n    }\n  }, [currency])\n\n  const resetCurrencies = () => {\n    setCurrency(null)\n  }\n\n  return (\n    <AppWrapper>\n      <Header />\n      <ExchangeMain currency={currency}/>\n      <Footer lastUpdate={currency} resetCurrencies={resetCurrencies} />\n    </AppWrapper>\n  )\n}\n\nexport default App\n\nconst AppWrapper = styled.div`\n  min-height: 100vh;\n  width: 100vw;\n  background: black;\n  background: linear-gradient(rgba(0,0,0), rgba(0,128,128));\n  background-size: cover;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}